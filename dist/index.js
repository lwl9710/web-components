(()=>{"use strict";function t(t){let e=function(t){return"number"==typeof t?t.toString():t}(t);return/^\d+$/.test(e)?`${e}px`:e}class e extends Event{constructor(t,e){super(t,e)}}class s extends HTMLElement{static _name="scroll-view";duration=500;safeSpace=5;isTriggerTopEvent=!0;isTriggerBottomEvent=!0;htmlElement;styleElement;beforeScrollTop=0;constructor(){super(),this.htmlElement=this.createHTMLElement(),this.styleElement=this.createStyleElement(),this.render()}static get observedAttributes(){return["height","duration","safe-space"]}attributeChangedCallback(e,s,i){switch(e){case"height":this.htmlElement.style.height=t(i);break;case"duration":/^\d+$/.test(i)&&(this.duration=parseInt(i));break;case"safe-space":/^\d+$/.test(i)&&(this.safeSpace=parseInt(i))}}connectedCallback(){this.htmlElement.addEventListener("scroll",this.onScrollCallback)}disconnectedCallback(){this.htmlElement.removeEventListener("scroll",this.onScrollCallback)}onScrollCallback=()=>{const{scrollTop:t}=this.htmlElement;if(t-this.beforeScrollTop>0){const{scrollHeight:e,clientHeight:s}=this.htmlElement;if(e-s-t<=this.safeSpace&&this.isTriggerBottomEvent){this.isTriggerBottomEvent=!1;try{this.triggerEvent("reachbottom",{})}finally{setTimeout((()=>this.isTriggerBottomEvent=!0),this.duration)}}}else if(t<=this.safeSpace&&this.isTriggerTopEvent){this.isTriggerTopEvent=!1;try{this.triggerEvent("reachtop",{})}finally{setTimeout((()=>this.isTriggerTopEvent=!0),this.duration)}}this.beforeScrollTop=t};triggerEvent(t,s){const i=new e(t,{bubbles:!1,cancelable:!1,composed:!1});i.eventData=s,this.dispatchEvent(i)}createHTMLElement(){if(this.htmlElement)return this.htmlElement;{const t=document.createElement("div");return t.className="scroll-view",t.innerHTML="<slot></slot>",this.htmlElement=t,t}}createStyleElement(){if(this.styleElement)return this.styleElement;{const s=document.createElement("style");return this.styleElement=s,s.textContent=(e={overflow:"auto",width:"100%",height:"100%"},`.scroll-view {${Object.entries(e).map((e=>`${e[0]}: ${t(e[1])}`)).join(";")}}`),s}var e}render(){const t=this.attachShadow({mode:"closed"});t.appendChild(this.styleElement),t.appendChild(this.htmlElement)}}window.customElements.define(s._name,s)})();